{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState}from\"react\";import'./styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Contact(){// const [name, setName] = useState(\"\");\n// const [email, setEmail] = useState(\"\");\n// const [subject, setSubject] = useState(\"\");\n// const [message, setMessage] = useState(\"\");\n// const [submitted, setSubmitted] = useState(false);\n// const handleSubmit = (e) => {\n//   e.preventDefault();\n//   console.log(\"Sending...\");\n//   let data = {\n//     name,\n//     email,\n//     subject,\n//     message,\n//   };\n//   fetch(\"api/contact\", {\n//     method: \"POST\",\n//     headers: {\n//       Accept: \"application/json, text/plain, */*\",\n//       \"Content-type\": \"application/json\",\n//     },\n//     body: JSON.stringify(data),\n//   }).then((res) => {\n//     console.log(\"Response received\");\n//     if (res.status === 200) {\n//       console.log(\"Success!\");\n//       setSubmitted(true);\n//       setName(\"\");\n//       setEmail(\"\");\n//       setMessage(\"\");\n// \t\t\tsetSubject(\"\");\n//     } else {\n// \t\t\tconsole.log(\"Your message failed to send.\")\n// \t\t}\n//   });\n// };\nvar _useState=useState({name:\"\",email:\"\",subject:\"\",message:\"\"}),_useState2=_slicedToArray(_useState,2),mailerState=_useState2[0],setMailerState=_useState2[1];function handleStateChange(e){setMailerState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});}var submitEmail=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log({mailerState:mailerState});_context2.next=4;return fetch(\"/send\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({mailerState:mailerState})}).then(function(res){return res.json();}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var resData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return res;case 2:resData=_context.sent;console.log(resData);if(resData.status===\"success\"){alert(\"Message sent\");}else if(resData.status===\"fail\"){alert(\"Message failed to send.\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()).then(function(){setMailerState({email:\"\",name:\"\",subject:\"\",message:\"\"});});case 4:response=_context2.sent;case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function submitEmail(_x){return _ref.apply(this,arguments);};}();var regex=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:|\\\\)*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:)\\])/;var messageCharactersWatch=500-mailerState.message.length;return/*#__PURE__*/_jsx(\"div\",{className:\"containerDiv\",children:/*#__PURE__*/_jsx(\"div\",{id:\"contact\",className:\"formContainer\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"formInput\",placeholder:\"Name\",onChange:handleStateChange,value:mailerState.name})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:/*#__PURE__*/_jsx(\"input\",{className:\"formInput\",type:\"email\",name:\"email\",placeholder:\"Email\",onChange:handleStateChange,value:mailerState.email})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subject\",children:/*#__PURE__*/_jsx(\"input\",{className:\"formInput\",type:\"text\",name:\"subject\",placeholder:\"subject\",onChange:handleStateChange,value:mailerState.subject})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{className:\"formMessage\",name:\"message\",placeholder:\"Message\",maxLength:\"500\",type:\"text\",onChange:handleStateChange,value:mailerState.message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"charCount\",children:[messageCharactersWatch,\"/500\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"submitDiv\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submitBtn\",type:\"submit\",onClick:function onClick(e){mailerState.email.match(regex)?submitEmail(e):console.log(\"email not valid\");},children:\"Send\"})})]})})});}","map":{"version":3,"names":["React","useState","Contact","name","email","subject","message","mailerState","setMailerState","handleStateChange","e","prevState","target","value","submitEmail","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","resData","status","alert","response","regex","messageCharactersWatch","length","match"],"sources":["/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/src/components/EmailForm/EmailForm.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport './styles.css'\n\nexport default function Contact() {\n\t\n  // const [name, setName] = useState(\"\");\n  // const [email, setEmail] = useState(\"\");\n  // const [subject, setSubject] = useState(\"\");\n  // const [message, setMessage] = useState(\"\");\n  // const [submitted, setSubmitted] = useState(false);\n\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   console.log(\"Sending...\");\n\n  //   let data = {\n  //     name,\n  //     email,\n  //     subject,\n  //     message,\n  //   };\n\n  //   fetch(\"api/contact\", {\n  //     method: \"POST\",\n  //     headers: {\n  //       Accept: \"application/json, text/plain, */*\",\n  //       \"Content-type\": \"application/json\",\n  //     },\n  //     body: JSON.stringify(data),\n  //   }).then((res) => {\n  //     console.log(\"Response received\");\n\n  //     if (res.status === 200) {\n  //       console.log(\"Success!\");\n  //       setSubmitted(true);\n  //       setName(\"\");\n  //       setEmail(\"\");\n  //       setMessage(\"\");\n\t// \t\t\tsetSubject(\"\");\n  //     } else {\n\t// \t\t\tconsole.log(\"Your message failed to send.\")\n\t// \t\t}\n  //   });\n  // };\n\n\tconst [ mailerState, setMailerState ] = useState({\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tsubject: \"\",\n\t\tmessage: \"\",\n\t})\n\n\tfunction handleStateChange(e) {\n\t\tsetMailerState((prevState) => ({\n\t\t\t...prevState,\n\t\t\t[e.target.name]: e.target.value,\n\t\t}));\n\t}\n\n\tconst submitEmail = async (e) => {\n\t\te.preventDefault();\n\t\tconsole.log({ mailerState });\n\t\tconst response = await fetch(\"/send\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ mailerState }),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then(async (res) => {\n\t\t\t\tconst resData = await res;\n\t\t\t\tconsole.log(resData);\n\t\t\t\tif (resData.status === \"success\") {\n\t\t\t\t\talert(\"Message sent\");\n\t\t\t\t} else if (resData.status === \"fail\") {\n\t\t\t\t\talert(\"Message failed to send.\")\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tsetMailerState({\n\t\t\t\t\temail: \"\",\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tsubject: \"\",\n\t\t\t\t\tmessage: \"\",\n\t\t\t\t});\n\t\t\t});\n\t};\n\n  const regex =\n    /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:|\\\\)*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:)\\])/;\n\n  const messageCharactersWatch = 500 - mailerState.message.length;\n\n  return (\n    <div className=\"containerDiv\">\n\n      <div id=\"contact\" className=\"formContainer\">\n        <form id=\"form\">\n          <label htmlFor=\"name\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              className=\"formInput\"\n              placeholder=\"Name\"\n              onChange={handleStateChange}\n\t\t\t\t\t\t\tvalue={mailerState.name}\n            />\n          </label>\n          <br />\n\n          <label htmlFor=\"email\">\n            <input\n              className=\"formInput\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              onChange={handleStateChange}\n\t\t\t\t\t\t\tvalue={mailerState.email}\n            />\n          </label>\n          <br />\n\n          <label htmlFor=\"subject\">\n            <input\n              className=\"formInput\"\n              type=\"text\"\n              name=\"subject\"\n              placeholder=\"subject\"\n              onChange={handleStateChange}\n\t\t\t\t\t\t\tvalue={mailerState.subject}\n            />\n          </label>\n          <br />\n\n          <textarea\n            className=\"formMessage\"\n            name=\"message\"\n            placeholder=\"Message\"\n            maxLength=\"500\"\n            type=\"text\"\n            onChange={handleStateChange}\n\t\t\t\t\t\tvalue={mailerState.message}\n          />\n          <br />\n          <p className=\"charCount\">{messageCharactersWatch}/500</p>\n\n          <div className=\"submitDiv\">\n            <button\n              className=\"submitBtn\"\n              type=\"submit\"\n              onClick={(e) => {\n                mailerState.email.match(regex)\n                  ? submitEmail(e)\n                  : console.log(\"email not valid\");\n              }}\n            >\n              Send\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}