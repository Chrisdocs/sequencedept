{"ast":null,"code":"const express = require(\"express\");\n\nconst nodemailer = require(\"nodemailer\");\n\nconst app = express();\n\nrequire('dotenv').config();\n\nconst PASSWORD = process.env.password;\nconst EMAIL = process.env.email;\nexport default function ContApi(req, res) {\n  let nodemailer = require('nodemailer');\n\n  const transporter = nodemailer.createTransport({\n    port: 465,\n    host: \"smtp.gmail.com\",\n    auth: {\n      user: EMAIL,\n      pass: PASSWORD\n    },\n    secure: true\n  });\n  const mailData = {\n    from: 'SQDPT Contact',\n    to: 'Contact.SQDPT@gmail.com',\n    subject: `Message from ${req.body.name}, ${req.body.subject}`,\n    text: req.body.message\n  };\n  transporter.sendMail(mailData, function (err, info) {\n    if (err) console.log(err);else console.log(info);\n  });\n  console.log(req.body);\n  res.status(200);\n}\n_c = ContApi;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContApi\");","map":{"version":3,"names":["express","require","nodemailer","app","config","PASSWORD","process","env","password","EMAIL","email","ContApi","req","res","transporter","createTransport","port","host","auth","user","pass","secure","mailData","from","to","subject","body","name","text","message","sendMail","err","info","console","log","status"],"sources":["/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/my-app/src/assets/api/contact.js"],"sourcesContent":["const express = require(\"express\");\nconst nodemailer = require(\"nodemailer\");\nconst app = express();\nrequire('dotenv').config()\n\nconst PASSWORD = process.env.password;\nconst EMAIL = process.env.email;\n\nexport default function ContApi (req, res) {\n\n\tlet nodemailer = require('nodemailer')\n\tconst transporter = nodemailer.createTransport({\n\t\tport:465,\n\t\thost: \"smtp.gmail.com\",\n\t\tauth: {\n\t\t\tuser: EMAIL,\n\t\t\tpass: PASSWORD\n\t\t},\n\t\tsecure: true,\n\t});\n\n\tconst mailData = {\n\t\tfrom: 'SQDPT Contact',\n\t\tto: 'Contact.SQDPT@gmail.com',\n\t\tsubject: `Message from ${req.body.name}, ${req.body.subject}`,\n\t\ttext: req.body.message,\n\t}\n\n\ttransporter.sendMail(mailData, function (err, info) {\n\t\tif(err)\n\t\t\tconsole.log(err)\n\t\telse\n\t\t\tconsole.log(info)\n\t})\n\t\n\tconsole.log(req.body)\n\n\tres.status(200)\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAME,GAAG,GAAGH,OAAO,EAAnB;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBG,MAAlB;;AAEA,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAA7B;AACA,MAAMC,KAAK,GAAGH,OAAO,CAACC,GAAR,CAAYG,KAA1B;AAEA,eAAe,SAASC,OAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;EAE1C,IAAIX,UAAU,GAAGD,OAAO,CAAC,YAAD,CAAxB;;EACA,MAAMa,WAAW,GAAGZ,UAAU,CAACa,eAAX,CAA2B;IAC9CC,IAAI,EAAC,GADyC;IAE9CC,IAAI,EAAE,gBAFwC;IAG9CC,IAAI,EAAE;MACLC,IAAI,EAAEV,KADD;MAELW,IAAI,EAAEf;IAFD,CAHwC;IAO9CgB,MAAM,EAAE;EAPsC,CAA3B,CAApB;EAUA,MAAMC,QAAQ,GAAG;IAChBC,IAAI,EAAE,eADU;IAEhBC,EAAE,EAAE,yBAFY;IAGhBC,OAAO,EAAG,gBAAeb,GAAG,CAACc,IAAJ,CAASC,IAAK,KAAIf,GAAG,CAACc,IAAJ,CAASD,OAAQ,EAH5C;IAIhBG,IAAI,EAAEhB,GAAG,CAACc,IAAJ,CAASG;EAJC,CAAjB;EAOAf,WAAW,CAACgB,QAAZ,CAAqBR,QAArB,EAA+B,UAAUS,GAAV,EAAeC,IAAf,EAAqB;IACnD,IAAGD,GAAH,EACCE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EADD,KAGCE,OAAO,CAACC,GAAR,CAAYF,IAAZ;EACD,CALD;EAOAC,OAAO,CAACC,GAAR,CAAYtB,GAAG,CAACc,IAAhB;EAEAb,GAAG,CAACsB,MAAJ,CAAW,GAAX;AACA;KA9BuBxB,O"},"metadata":{},"sourceType":"module"}