{"ast":null,"code":"const express = require(\"express\");\n\nconst nodemailer = require(\"nodemailer\");\n\nconst app = express();\n\nrequire('dotenv').config();\n\nconst port = 3001;\napp.listen(port, () => {\n  console.log(`Server is running on port: ${port}`);\n});\nconst PASSWORD = process.env.password;\nconst EMAIL = process.env.email;\nexport default function ContApi(req, res) {\n  let nodemailer = require('nodemailer');\n\n  const transporter = nodemailer.createTransport({\n    port: 465,\n    host: \"smtp.gmail.com\",\n    auth: {\n      user: EMAIL,\n      pass: PASSWORD\n    },\n    secure: true\n  });\n  const mailData = {\n    from: 'SQDPT Contact',\n    to: 'Contact.SQDPT@gmail.com',\n    subject: `Message from ${req.body.name}, ${req.body.subject}`,\n    text: req.body.message\n  };\n  transporter.sendMail(mailData, function (err, info) {\n    if (err) console.log(err);else console.log(info);\n  });\n  console.log(req.body);\n  res.status(200);\n}\n_c = ContApi;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContApi\");","map":{"version":3,"names":["express","require","nodemailer","app","config","port","listen","console","log","PASSWORD","process","env","password","EMAIL","email","ContApi","req","res","transporter","createTransport","host","auth","user","pass","secure","mailData","from","to","subject","body","name","text","message","sendMail","err","info","status"],"sources":["/Users/chriswolfe/Documents/webDev/Clients/SQ-DPT/my-app/src/assets/api/contact.js"],"sourcesContent":["const express = require(\"express\");\nconst nodemailer = require(\"nodemailer\");\nconst app = express();\nrequire('dotenv').config()\n\nconst port = 3001;\napp.listen(port, () => {\n\tconsole.log(`Server is running on port: ${port}`)\n});\n\nconst PASSWORD = process.env.password;\nconst EMAIL = process.env.email;\n\nexport default function ContApi (req, res) {\n\n\tlet nodemailer = require('nodemailer')\n\tconst transporter = nodemailer.createTransport({\n\t\tport:465,\n\t\thost: \"smtp.gmail.com\",\n\t\tauth: {\n\t\t\tuser: EMAIL,\n\t\t\tpass: PASSWORD\n\t\t},\n\t\tsecure: true,\n\t});\n\n\tconst mailData = {\n\t\tfrom: 'SQDPT Contact',\n\t\tto: 'Contact.SQDPT@gmail.com',\n\t\tsubject: `Message from ${req.body.name}, ${req.body.subject}`,\n\t\ttext: req.body.message,\n\t}\n\n\ttransporter.sendMail(mailData, function (err, info) {\n\t\tif(err)\n\t\t\tconsole.log(err)\n\t\telse\n\t\t\tconsole.log(info)\n\t})\n\t\n\tconsole.log(req.body)\n\n\tres.status(200)\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAME,GAAG,GAAGH,OAAO,EAAnB;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBG,MAAlB;;AAEA,MAAMC,IAAI,GAAG,IAAb;AACAF,GAAG,CAACG,MAAJ,CAAWD,IAAX,EAAiB,MAAM;EACtBE,OAAO,CAACC,GAAR,CAAa,8BAA6BH,IAAK,EAA/C;AACA,CAFD;AAIA,MAAMI,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAA7B;AACA,MAAMC,KAAK,GAAGH,OAAO,CAACC,GAAR,CAAYG,KAA1B;AAEA,eAAe,SAASC,OAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;EAE1C,IAAIf,UAAU,GAAGD,OAAO,CAAC,YAAD,CAAxB;;EACA,MAAMiB,WAAW,GAAGhB,UAAU,CAACiB,eAAX,CAA2B;IAC9Cd,IAAI,EAAC,GADyC;IAE9Ce,IAAI,EAAE,gBAFwC;IAG9CC,IAAI,EAAE;MACLC,IAAI,EAAET,KADD;MAELU,IAAI,EAAEd;IAFD,CAHwC;IAO9Ce,MAAM,EAAE;EAPsC,CAA3B,CAApB;EAUA,MAAMC,QAAQ,GAAG;IAChBC,IAAI,EAAE,eADU;IAEhBC,EAAE,EAAE,yBAFY;IAGhBC,OAAO,EAAG,gBAAeZ,GAAG,CAACa,IAAJ,CAASC,IAAK,KAAId,GAAG,CAACa,IAAJ,CAASD,OAAQ,EAH5C;IAIhBG,IAAI,EAAEf,GAAG,CAACa,IAAJ,CAASG;EAJC,CAAjB;EAOAd,WAAW,CAACe,QAAZ,CAAqBR,QAArB,EAA+B,UAAUS,GAAV,EAAeC,IAAf,EAAqB;IACnD,IAAGD,GAAH,EACC3B,OAAO,CAACC,GAAR,CAAY0B,GAAZ,EADD,KAGC3B,OAAO,CAACC,GAAR,CAAY2B,IAAZ;EACD,CALD;EAOA5B,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACa,IAAhB;EAEAZ,GAAG,CAACmB,MAAJ,CAAW,GAAX;AACA;KA9BuBrB,O"},"metadata":{},"sourceType":"module"}